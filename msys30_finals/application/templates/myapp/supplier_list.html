{% extends 'myapp/base.html' %}
{% block title %}Suppliers{% endblock %}

{% block content %}
<div class="d-flex justify-content-between align-items-center mb-3">

    <!-- LEFT SIDE: Page Title -->
    <h4 class="mb-0">Suppliers</h4>

    <!-- RIGHT SIDE: Controls -->
    <div class="d-flex" style="gap: 10px;">

        <!-- Sort + Search -->
        <form method="GET" class="d-flex" style="gap: 10px;">

            <!-- Sort Dropdown -->
            <select name="sort" class="form-select form-select-sm" onchange="this.form.submit()">
                <option value="">Sort By</option>
                <option value="name">Name</option>
                <option value="contact_person">Contact Person</option>
                
            </select>

            <!-- Search Bar -->
            <input type="text" name="search_query" class="form-control form-control-sm"
                   placeholder="Search supplier">
        </form>

        <!-- Add Supplier Button -->
        <a href="{% url 'add_supplier' %}" class="btn btn-success btn-sm">
            Add Supplier
        </a>
    </div>
</div>


<div class="table-responsive" style="max-height: 700px; overflow-y: auto;">
  <table class="table table-striped table-hover shadow-sm">
  <thead class="table-dark">
    <tr>
      <th>Name</th>
      <th>Contact Person</th>
      <th>Phone</th>
      <th>Email</th>
      <th>Address</th>
    </tr>
  </thead>
  
  <tbody>
    {% for s in suppliers %}
    <tr>
      <td>{{ s.name }}</td>
      <td>{{ s.contact_person }}</td>
      <td>{{ s.phone }}</td>
      <td>{{ s.email }}</td>
      <td>{{ s.address }}</td>
    </tr>
    {% empty %}
    <tr><td colspan="5" class="text-center text-muted py-3">No suppliers available.</td></tr>
    {% endfor %}
  </tbody>
</table>

</div>
{% endblock %}
