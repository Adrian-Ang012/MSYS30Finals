{% extends 'myapp/base.html' %}
{% block content %}

<div class="d-flex justify-content-between align-items-center mb-3">

    <!-- LEFT SIDE: Page Title -->
    <h4 class="mb-0">Inventory</h4>

    <!-- RIGHT SIDE: Controls -->
    <div class="d-flex" style="gap: 10px;">

        <!-- Sort Dropdown -->
        <form method="GET" class="d-flex" style="gap: 10px;">
            <select name="sort" class="form-select form-select-sm" onchange="this.form.submit()">
                <option value="">Sort By</option>
                <option value="sku">SKU</option>
                <option value="name">Name</option>
                <option value="category">Category</option>
                <option value="quantity">Quantity</option>
                <option value="reorder">Reorder Level</option>
                <option value="price">Unit Price</option>
                <option value="supplier">Supplier</option>
            </select>

            <!-- Search Bar -->
            <input type="text" name="search_query" class="form-control form-control-sm"
                   placeholder="Search">
        </form>

        <!-- Add Product Button -->
        <a href="{% url 'add_product' %}" class="btn btn-success btn-sm">
            Add Product
        </a>
    </div>
</div>

<div class="table-responsive" style="max-height: 700px; overflow-y: auto;">
  <table class="table table-striped table-hover shadow-sm">
  <thead class="table-dark">
    <tr>
      <th>SKU</th>
      <th>Name</th>
      <th>Category</th>
      <th>Quantity</th>
      <th>Reorder Level</th>
      <th>Unit Price</th>
      <th>Supplier</th>
      <th>Actions</th>
    </tr>
  </thead>
  <tbody>
    {% for p in products %}
    <tr>
      <td>{{ p.sku }}</td>
      <td>{{ p.name }}</td>
      <td>{{ p.category }}</td>
      <td>{{ p.quantity }}</td>
      <td>{{ p.reorder_level }}</td>
      <td>{{ p.unit_price }}</td>
      <td>{{ p.supplier }}</td>
      <td>
        <a href="{% url 'edit_product' p.id %}" class="btn btn-sm btn-primary">Edit</a>
        <a href="{% url 'delete_product' p.id %}" class="btn btn-sm btn-danger">Delete</a>
      </td>
    </tr>
    {% empty %}
    <tr><td colspan="8" class="text-center text-muted py-3">No products found.</td></tr>
    {% endfor %}
  </tbody>
</table>

</div>




{% endblock %}
